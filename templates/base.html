<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TravelEase - Book Your Getaway</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/video.css') }}">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
        }
    </style>
</head>

<body>
    <!-- Dynamic Background Image -->
    {% if package and package.image_url %}
    {% set bg_url = package.image_url %}
    {% else %}
    {% set bg_url = 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=1920&q=80' %}
    {% endif %}
    <div id="bg-image" style="background-image: url('{{ bg_url }}');"></div>

    {% if request.endpoint == 'index' %}
    <!-- Background Video (Only on Home Page) -->
    <video autoplay muted loop playsinline id="bg-video">
        <source
            src="https://assets.mixkit.co/videos/preview/mixkit-drone-view-of-a-beautiful-resort-and-the-ocean-1564-large.mp4"
            type="video/mp4">
        Your browser does not support HTML5 video.
    </video>
    {% endif %}
    <div class="video-overlay"></div>

    <nav class="navbar">
        <a href="{{ url_for('index') }}" class="navbar-brand">TravelEase ✈️</a>
        <div class="nav-links">
            <a href="{{ url_for('index') }}">Home</a>
            <a href="{{ url_for('trains') }}">Trains</a>
            <a href="{{ url_for('buses') }}">Buses</a>
            <a href="{{ url_for('cabs') }}">Cabs</a>
            <a href="{{ url_for('contact_us') }}">Contact</a>
            {% if current_user.is_authenticated %}
            <a href="{{ url_for('dashboard') }}">My Bookings</a>
            {% if current_user.is_admin %}
            <a href="{{ url_for('admin_dashboard') }}">Admin Panel</a>
            {% endif %}
            <a href="{{ url_for('logout') }}">Logout</a>
            {% else %}
            <a href="{{ url_for('login') }}">Login</a>
            <a href="{{ url_for('register') }}">Register</a>
            {% endif %}
        </div>
    </nav>

    <div class="container">
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        {% for category, message in messages %}
        <div class="alert alert-{{ category }}">
            {{ message }}
        </div>
        {% endfor %}
        {% endif %}
        {% endwith %}

        {% block content %}{% endblock %}
    </div>

    <footer class="main-footer">
        <div class="social-strip">
            <a class="social-icon" href="https://www.instagram.com/" target="_blank" rel="noopener noreferrer"
                aria-label="Instagram">
                <svg viewBox="0 0 24 24" role="img" aria-hidden="true">
                    <rect x="3" y="3" width="18" height="18" rx="5" ry="5"></rect>
                    <circle cx="12" cy="12" r="4"></circle>
                    <circle cx="17.5" cy="6.5" r="1.2"></circle>
                </svg>
            </a>
            <a class="social-icon" href="https://x.com/" target="_blank" rel="noopener noreferrer" aria-label="X">
                <svg viewBox="0 0 24 24" role="img" aria-hidden="true">
                    <path
                        d="M5 4h4.3l4 5.6L18.3 4H22l-6.7 7.8L22.5 20h-4.3l-4.6-6.4L8 20H4.3l7-8.2L5 4z">
                    </path>
                </svg>
            </a>
            <a class="social-icon" href="https://www.linkedin.com/" target="_blank" rel="noopener noreferrer"
                aria-label="LinkedIn">
                <svg viewBox="0 0 24 24" role="img" aria-hidden="true">
                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                    <rect x="6.5" y="10" width="2.2" height="7"></rect>
                    <circle cx="7.6" cy="7.3" r="1.2"></circle>
                    <path
                        d="M11 10h2.4v1.1c.4-.7 1.3-1.3 2.6-1.3 2.1 0 3.5 1.2 3.5 3.7V17H17v-3.1c0-1.3-.5-2-1.5-2-1 0-1.6.7-1.6 2V17H11v-7z">
                    </path>
                </svg>
            </a>
            <a class="social-icon" href="https://www.facebook.com/" target="_blank" rel="noopener noreferrer"
                aria-label="Facebook">
                <svg viewBox="0 0 24 24" role="img" aria-hidden="true">
                    <path
                        d="M14 8h2V5.5h-2c-2.2 0-3.6 1.4-3.6 3.5V11H8.5v2.8h1.9V20H13v-6.2h2.3L15.7 11H13V9.2c0-.8.4-1.2 1-1.2z">
                    </path>
                </svg>
            </a>
        </div>
        <p>&copy; {{ year }} TravelEase. All rights reserved. | <a href="{{ url_for('login') }}">Admin Login</a></p>
    </footer>

    <script src="{{ url_for('static', filename='js/custom-select.js') }}"></script>
</body>

</html>
